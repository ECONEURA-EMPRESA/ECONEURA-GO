#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Mejora 4: Pre-commit hooks automÃ¡ticos
# Ejecuta lint y type-check antes de cada commit

echo "ğŸ” Ejecutando validaciones pre-commit..."

# Type-check backend
echo "ğŸ“ Verificando TypeScript (backend)..."
cd packages/backend
npm run type-check
if [ $? -ne 0 ]; then
  echo "âŒ Errores de TypeScript en backend. Commit cancelado."
  exit 1
fi
cd ../..

# Type-check frontend
echo "ğŸ“ Verificando TypeScript (frontend)..."
cd packages/frontend
npm run type-check
if [ $? -ne 0 ]; then
  echo "âŒ Errores de TypeScript en frontend. Commit cancelado."
  exit 1
fi
cd ../..

echo "âœ… Validaciones completadas"
exit 0


